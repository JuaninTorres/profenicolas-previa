<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicios de Permutaciones</title>
    
    <!-- Bootstrap 5.3 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- MathJax -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                packages: {'[+]': ['ams', 'base']},
                macros: {
                    binom: ['\\left(\\begin{array}{c}#1\\\\#2\\end{array}\\right)', 2]
                }
            },
            svg: {
                fontCache: 'global',
                scale: 1.2
            },
            options: {
                enableMenu: false
            },
            startup: {
                ready() {
                    MathJax.startup.defaultReady();
                }
            }
        };
    </script>
    
    <style>
        :root {
            --azulchile: #0033A0;
            --rojochile: #D52B1E;
            --verdechile: #2E7D32;
            --warmorange: #FF6F00;
            --blancochile: #FFFFFF;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--azulchile) 0%, #1565C0 100%);
            margin: 0;
            padding: 0;
            overflow: hidden;
            height: 100vh;
            font-size: 18px;
        }
        
        .presentation-container {
            width: 100%;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
        }
        
        .slide {
            display: none;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            padding: 50px 60px;
            max-width: 1300px;
            width: 100%;
            min-height: 600px;
            max-height: 92vh;
            overflow-y: auto;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        /* Scrollbar personalizada */
        .slide::-webkit-scrollbar {
            width: 12px;
        }
        
        .slide::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        
        .slide::-webkit-scrollbar-thumb {
            background: var(--azulchile);
            border-radius: 10px;
        }
        
        .slide::-webkit-scrollbar-thumb:hover {
            background: var(--rojochile);
        }
        
        .slide.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        h1 {
            color: var(--azulchile);
            font-size: 3.2em;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        h2 {
            color: var(--rojochile);
            font-size: 2.3em;
            font-weight: bold;
            margin-bottom: 25px;
            border-bottom: 3px solid var(--rojochile);
            padding-bottom: 10px;
        }
        
        h3 {
            color: var(--verdechile);
            font-size: 1.7em;
            font-weight: bold;
            margin-top: 30px;
            margin-bottom: 15px;
        }
        
        .subtitle {
            text-align: center;
            color: var(--verdechile);
            font-size: 1.8em;
            font-weight: 600;
            margin-top: 10px;
        }
        
        .exercise-header {
            background: linear-gradient(135deg, var(--azulchile), #1976D2);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 1.5em;
            font-weight: bold;
        }
        
        .exercise-content {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            border-left: 5px solid var(--warmorange);
            margin-bottom: 20px;
            font-size: 1.3em;
            line-height: 1.8;
        }
        
        .solution-box {
            background: linear-gradient(135deg, #E8F5E9, #C8E6C9);
            border: 2px solid var(--verdechile);
            border-radius: 10px;
            padding: 25px;
            margin-top: 15px;
            display: none;
            font-size: 1.2em;
        }
        
        .solution-box p {
            margin-bottom: 12px;
        }
        
        .solution-box ul, .solution-box ol {
            margin-bottom: 15px;
        }
        
        .solution-box.show {
            display: block;
            animation: slideDown 0.4s ease-out;
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .btn-toggle-solution {
            background: linear-gradient(135deg, var(--verdechile), #43A047);
            color: white;
            border: none;
            padding: 15px 35px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1.3em;
            font-weight: bold;
            margin-top: 18px;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(46, 125, 50, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            width: 100%;
            max-width: 320px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .btn-toggle-solution:hover {
            background: linear-gradient(135deg, #1B5E20, var(--verdechile));
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(46, 125, 50, 0.6);
        }
        
        .btn-toggle-solution:active {
            transform: translateY(0px);
        }
        
        .btn-toggle-solution.showing {
            background: linear-gradient(135deg, var(--rojochile), #C62828);
            box-shadow: 0 4px 15px rgba(213, 43, 30, 0.4);
        }
        
        .btn-toggle-solution.showing:hover {
            background: linear-gradient(135deg, #B71C1C, var(--rojochile));
            box-shadow: 0 6px 20px rgba(213, 43, 30, 0.6);
        }
        
        .solution-header {
            color: var(--verdechile);
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        
        .solution-header::before {
            content: "‚úì";
            background: var(--verdechile);
            color: white;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            font-weight: bold;
        }
        
        .formula-box {
            background: linear-gradient(135deg, #FFF3E0, #FFE0B2);
            border: 2px solid var(--warmorange);
            border-radius: 10px;
            padding: 25px;
            margin: 15px 0;
            font-size: 1.2em;
        }
        
        .formula-title {
            color: var(--warmorange);
            font-weight: bold;
            font-size: 1.4em;
            margin-bottom: 12px;
        }
        
        .navigation {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 1000;
        }
        
        .nav-btn {
            background: var(--rojochile);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1.3em;
            font-weight: bold;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(213, 43, 30, 0.4);
        }
        
        .nav-btn:hover {
            background: #B71C1C;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(213, 43, 30, 0.6);
        }
        
        .slide-counter {
            position: fixed;
            top: 20px;
            right: 30px;
            background: var(--rojochile);
            color: white;
            padding: 12px 25px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 1.3em;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }
        
        .footer {
            background: linear-gradient(135deg, var(--azulchile), #1565C0);
            color: white;
            text-align: center;
            padding: 18px;
            margin-top: 40px;
            border-radius: 10px;
            font-size: 1.1em;
        }
        
        .highlight {
            background: linear-gradient(135deg, #FFEB3B, #FFC107);
            padding: 3px 10px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 1.05em;
        }
        
        .math-display {
            font-size: 1.4em;
            margin: 18px 0;
            padding: 15px;
            background: white;
            border-radius: 8px;
            overflow-x: auto;
        }
        
        /* Estilos espec√≠ficos para MathJax */
        mjx-container {
            display: inline-block;
            margin: 0.5em 0;
        }
        
        mjx-container[display="true"] {
            display: block;
            margin: 1em 0;
        }
        
        .MathJax {
            font-size: 1.2em !important;
        }
        
        ul, ol {
            line-height: 1.9;
            font-size: 1.2em;
        }
        
        .badge-formula {
            background: var(--azulchile);
            color: white;
            padding: 6px 18px;
            border-radius: 20px;
            font-size: 1.05em;
            font-weight: bold;
            display: inline-block;
            margin: 5px;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .slide {
                padding: 25px 20px;
                min-height: auto;
                max-height: 95vh;
            }
            h1 {
                font-size: 2.3em;
            }
            h2 {
                font-size: 1.8em;
            }
            h3 {
                font-size: 1.4em;
            }
            .exercise-content {
                font-size: 1.15em;
            }
            .solution-box {
                font-size: 1.1em;
            }
            .exercise-header {
                font-size: 1.3em;
            }
            .nav-btn {
                font-size: 1.1em;
                padding: 12px 22px;
            }
            .math-display {
                font-size: 1.2em;
            }
        }
    </style>
</head>
<body>
    <div class="slide-counter" id="slideCounter">1 / 8</div>
    
    <div class="presentation-container">
        <!-- Slide 1: Portada -->
        <div class="slide active">
            <h1>üìä Ejercicios de Permutaciones üìä</h1>
            <div class="subtitle">Pr√°ctica Mixta: Identifica y Resuelve</div>
            
            <div style="text-align: center; margin: 60px 0;">
                <div style="background: linear-gradient(135deg, var(--azulchile), var(--rojochile)); color: white; padding: 40px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.2);">
                    <h3 style="color: white; margin-bottom: 30px;">En esta presentaci√≥n encontrar√°s:</h3>
                    <div style="display: flex; justify-content: space-around; flex-wrap: wrap; gap: 20px; margin-top: 30px;">
                        <div style="flex: 1; min-width: 200px;">
                            <div style="font-size: 3em; margin-bottom: 10px;">6Ô∏è‚É£</div>
                            <div style="font-size: 1.2em;">Permutaciones Simples</div>
                        </div>
                        <div style="flex: 1; min-width: 200px;">
                            <div style="font-size: 3em; margin-bottom: 10px;">6Ô∏è‚É£</div>
                            <div style="font-size: 1.2em;">Permutaciones con Repetici√≥n</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 50px; padding: 25px; background: #FFF3E0; border-radius: 15px; border: 3px solid var(--warmorange);">
                <p style="font-size: 1.3em; color: var(--rojochile); font-weight: bold; margin: 0;">
                    ‚ö° Los ejercicios est√°n mezclados: ¬°Identifica qu√© t√©cnica usar! ‚ö°
                </p>
                <p style="font-size: 1.1em; color: var(--azulchile); font-weight: bold; margin-top: 15px;">
                    üéì Contextos cercanos a tu vida: deportes, redes sociales, m√∫sica y m√°s
                </p>
            </div>
            
            <div class="footer">
                Profesor Nicol√°s Gonz√°lez | Material Educativo 2025
            </div>
        </div>
        
        <!-- Slide 2: Recordatorio de F√≥rmulas -->
        <div class="slide">
            <h2>üìù Recordatorio: F√≥rmulas de Permutaciones</h2>
            
            <div class="formula-box">
                <div class="formula-title">üîÑ Permutaciones Simples (P)</div>
                <p><strong>Situaci√≥n:</strong> Se ordenan TODOS los elementos disponibles, sin repetir ninguno, y el orden importa.</p>
                <div class="math-display">
                    $$P(n) = n!$$
                </div>
                <p><strong>Caracter√≠sticas:</strong></p>
                <ul>
                    <li>Se usan <span class="highlight">todos</span> los elementos</li>
                    <li>El orden <span class="highlight">S√ç importa</span></li>
                    <li>NO se permiten repeticiones</li>
                    <li>Cada elemento aparece exactamente una vez</li>
                </ul>
                <p><strong>Ejemplo:</strong> Ordenar 5 libros en un estante: $P(5) = 5! = 120$ formas.</p>
            </div>
            
            <div class="formula-box">
                <div class="formula-title">üéØ Permutaciones con Repetici√≥n (PR)</div>
                <p><strong>Situaci√≥n:</strong> Se ordenan todos los elementos pero algunos est√°n repetidos.</p>
                <div class="math-display">
                    $$PR^{n}_{(n_1, n_2, \ldots, n_k)} = \frac{n!}{n_1! \cdot n_2! \cdot \ldots \cdot n_k!}$$
                </div>
                <p><strong>Caracter√≠sticas:</strong></p>
                <ul>
                    <li>Hay elementos <span class="highlight">repetidos</span></li>
                    <li>El orden <span class="highlight">S√ç importa</span></li>
                    <li>Se divide entre los factoriales de las repeticiones</li>
                    <li>$n = n_1 + n_2 + \cdots + n_k$ (total de elementos)</li>
                </ul>
                <p><strong>Ejemplo:</strong> Ordenar las letras de "BANANA" (3 A, 2 N, 1 B): $\frac{6!}{3! \cdot 2! \cdot 1!} = 60$ formas.</p>
            </div>
            
            <div style="background: linear-gradient(135deg, #E3F2FD, #BBDEFB); padding: 20px; border-radius: 10px; margin-top: 25px; border: 2px solid var(--azulchile);">
                <h3 style="color: var(--azulchile); margin-top: 0;">üí° Pregunta clave para identificar:</h3>
                <p style="font-size: 1.2em; font-weight: bold;">
                    ¬øHay elementos repetidos en el conjunto que debo ordenar?
                </p>
                <ul style="font-size: 1.1em;">
                    <li><strong>NO hay repetidos</strong> ‚Üí Permutaciones Simples: $P(n) = n!$</li>
                    <li><strong>S√ç hay repetidos</strong> ‚Üí Permutaciones con Repetici√≥n: $\frac{n!}{n_1! \cdot n_2! \cdot \ldots}$</li>
                </ul>
            </div>
        </div>
        
        <!-- Slide 3: Ejercicios 1 y 2 -->
        <div class="slide">
            <!-- Ejercicio 1: Permutaci√≥n Simple -->
            <div class="exercise-header">
                üìù Ejercicio 1
            </div>
            
            <div class="exercise-content">
                <p><strong>En un torneo de ajedrez participan 8 jugadores. Al finalizar el torneo, deben acomodarse en una fila para la foto oficial. ¬øDe cu√°ntas maneras diferentes pueden ordenarse los 8 jugadores en la fila?</strong></p>
            </div>
            
            <button class="btn-toggle-solution" onclick="toggleSolution(this)">
                <span class="icon">üëÅÔ∏è</span>
                <span class="text">Ver Soluci√≥n</span>
            </button>
            
            <div class="solution-box">
                <div class="solution-header">Soluci√≥n</div>
                
                <p><strong>Paso 1: Identificar el tipo de problema</strong></p>
                <ul>
                    <li>¬øHay elementos repetidos? <span class="highlight">NO</span> (cada jugador es √∫nico)</li>
                    <li>¬øSe ordenan todos los elementos? <span class="highlight">S√ç</span> (los 8 jugadores)</li>
                    <li>¬øEl orden importa? <span class="highlight">S√ç</span> (posici√≥n 1 ‚â† posici√≥n 2, etc.)</li>
                    <li><strong>Conclusi√≥n:</strong> Es una <span class="badge-formula">PERMUTACI√ìN SIMPLE</span></li>
                </ul>
                
                <p><strong>Paso 2: Identificar valores</strong></p>
                <ul>
                    <li>$n = 8$ (jugadores a ordenar)</li>
                </ul>
                
                <p><strong>Paso 3: Aplicar la f√≥rmula</strong></p>
                <div class="math-display">
                    $$P(8) = 8! = 8 \times 7 \times 6 \times 5 \times 4 \times 3 \times 2 \times 1$$
                </div>
                
                <p><strong>Paso 4: Calcular</strong></p>
                <ul>
                    <li>$8 \times 7 = 56$</li>
                    <li>$56 \times 6 = 336$</li>
                    <li>$336 \times 5 = 1,680$</li>
                    <li>$1,680 \times 4 = 6,720$</li>
                    <li>$6,720 \times 3 = 20,160$</li>
                    <li>$20,160 \times 2 = 40,320$</li>
                    <li>$40,320 \times 1 = 40,320$</li>
                </ul>
                
                <div class="math-display">
                    $$P(8) = 40,320$$
                </div>
                
                <p><strong>Respuesta:</strong> Los jugadores pueden ordenarse de <span class="highlight">40,320 maneras diferentes</span>.</p>
            </div>

            <hr style="margin: 40px 0; border: 2px solid var(--azulchile); opacity: 0.3;">

            <!-- Ejercicio 2: Permutaci√≥n con Repetici√≥n -->
            <div class="exercise-header">
                üìù Ejercicio 2
            </div>
            
            <div class="exercise-content">
                <p><strong>Una palabra clave contiene las letras: M, A, T, E, M, A, T, I, C, A. ¬øCu√°ntos ordenamientos diferentes se pueden formar con estas 10 letras?</strong></p>
            </div>
            
            <button class="btn-toggle-solution" onclick="toggleSolution(this)">
                <span class="icon">üëÅÔ∏è</span>
                <span class="text">Ver Soluci√≥n</span>
            </button>
            
            <div class="solution-box">
                <div class="solution-header">Soluci√≥n</div>
                
                <p><strong>Paso 1: Identificar el tipo de problema</strong></p>
                <ul>
                    <li>¬øHay elementos repetidos? <span class="highlight">S√ç</span> (A aparece 3 veces, M aparece 2 veces, T aparece 2 veces)</li>
                    <li>¬øSe ordenan todos los elementos? <span class="highlight">S√ç</span> (todas las 10 letras)</li>
                    <li>¬øEl orden importa? <span class="highlight">S√ç</span></li>
                    <li><strong>Conclusi√≥n:</strong> Es una <span class="badge-formula">PERMUTACI√ìN CON REPETICI√ìN</span></li>
                </ul>
                
                <p><strong>Paso 2: Contar las repeticiones</strong></p>
                <ul>
                    <li>Letra A: aparece 3 veces</li>
                    <li>Letra M: aparece 2 veces</li>
                    <li>Letra T: aparece 2 veces</li>
                    <li>Letras E, I, C: aparecen 1 vez cada una</li>
                    <li>Total de letras: $n = 10$</li>
                </ul>
                
                <p><strong>Paso 3: Aplicar la f√≥rmula</strong></p>
                <div class="math-display">
                    $$PR^{10}_{(3, 2, 2, 1, 1, 1)} = \frac{10!}{3! \cdot 2! \cdot 2! \cdot 1! \cdot 1! \cdot 1!}$$
                </div>
                
                <p><strong>Paso 4: Calcular</strong></p>
                <ul>
                    <li>$10! = 3,628,800$</li>
                    <li>$3! = 6$</li>
                    <li>$2! = 2$</li>
                    <li>$2! = 2$</li>
                    <li>Denominador: $6 \times 2 \times 2 \times 1 \times 1 \times 1 = 24$</li>
                </ul>
                
                <div class="math-display">
                    $$\frac{3,628,800}{24} = 151,200$$
                </div>
                
                <p><strong>Respuesta:</strong> Se pueden formar <span class="highlight">151,200 ordenamientos diferentes</span> con las letras de MATEMATICA.</p>
            </div>
        </div>
        
        <!-- Slide 4: Ejercicios 3 y 4 -->
        <div class="slide">
            <!-- Ejercicio 3: Permutaci√≥n Simple -->
            <div class="exercise-header">
                üìù Ejercicio 3
            </div>
            
            <div class="exercise-content">
                <p><strong>Un DJ debe organizar una sesi√≥n con 6 canciones diferentes de reggaet√≥n. ¬øDe cu√°ntas maneras diferentes puede ordenar la secuencia completa de las 6 canciones?</strong></p>
            </div>
            
            <button class="btn-toggle-solution" onclick="toggleSolution(this)">
                <span class="icon">üëÅÔ∏è</span>
                <span class="text">Ver Soluci√≥n</span>
            </button>
            
            <div class="solution-box">
                <div class="solution-header">Soluci√≥n</div>
                
                <p><strong>Paso 1: Identificar el tipo de problema</strong></p>
                <ul>
                    <li>¬øHay elementos repetidos? <span class="highlight">NO</span> (cada canci√≥n es diferente)</li>
                    <li>¬øSe ordenan todos los elementos? <span class="highlight">S√ç</span> (las 6 canciones)</li>
                    <li>¬øEl orden importa? <span class="highlight">S√ç</span> (la secuencia de reproducci√≥n)</li>
                    <li><strong>Conclusi√≥n:</strong> Es una <span class="badge-formula">PERMUTACI√ìN SIMPLE</span></li>
                </ul>
                
                <p><strong>Paso 2: Aplicar la f√≥rmula</strong></p>
                <div class="math-display">
                    $$P(6) = 6! = 6 \times 5 \times 4 \times 3 \times 2 \times 1$$
                </div>
                
                <p><strong>Paso 3: Calcular</strong></p>
                <ul>
                    <li>$6 \times 5 = 30$</li>
                    <li>$30 \times 4 = 120$</li>
                    <li>$120 \times 3 = 360$</li>
                    <li>$360 \times 2 = 720$</li>
                    <li>$720 \times 1 = 720$</li>
                </ul>
                
                <div class="math-display">
                    $$P(6) = 720$$
                </div>
                
                <p><strong>Respuesta:</strong> El DJ puede ordenar las canciones de <span class="highlight">720 maneras diferentes</span>.</p>
            </div>

            <hr style="margin: 40px 0; border: 2px solid var(--azulchile); opacity: 0.3;">

            <!-- Ejercicio 4: Permutaci√≥n con Repetici√≥n -->
            <div class="exercise-header">
                üìù Ejercicio 4
            </div>
            
            <div class="exercise-content">
                <p><strong>Un c√≥digo de colores se forma con 9 tarjetas: 4 rojas, 3 azules y 2 verdes. ¬øCu√°ntas secuencias diferentes se pueden formar colocando todas las tarjetas en fila?</strong></p>
            </div>
            
            <button class="btn-toggle-solution" onclick="toggleSolution(this)">
                <span class="icon">üëÅÔ∏è</span>
                <span class="text">Ver Soluci√≥n</span>
            </button>
            
            <div class="solution-box">
                <div class="solution-header">Soluci√≥n</div>
                
                <p><strong>Paso 1: Identificar el tipo de problema</strong></p>
                <ul>
                    <li>¬øHay elementos repetidos? <span class="highlight">S√ç</span> (4 rojas, 3 azules, 2 verdes)</li>
                    <li>¬øSe ordenan todos los elementos? <span class="highlight">S√ç</span> (las 9 tarjetas)</li>
                    <li>¬øEl orden importa? <span class="highlight">S√ç</span></li>
                    <li><strong>Conclusi√≥n:</strong> Es una <span class="badge-formula">PERMUTACI√ìN CON REPETICI√ìN</span></li>
                </ul>
                
                <p><strong>Paso 2: Identificar valores</strong></p>
                <ul>
                    <li>Total de tarjetas: $n = 9$</li>
                    <li>Rojas: 4 repeticiones</li>
                    <li>Azules: 3 repeticiones</li>
                    <li>Verdes: 2 repeticiones</li>
                </ul>
                
                <p><strong>Paso 3: Aplicar la f√≥rmula</strong></p>
                <div class="math-display">
                    $$PR^{9}_{(4, 3, 2)} = \frac{9!}{4! \cdot 3! \cdot 2!}$$
                </div>
                
                <p><strong>Paso 4: Calcular</strong></p>
                <ul>
                    <li>$9! = 362,880$</li>
                    <li>$4! = 24$</li>
                    <li>$3! = 6$</li>
                    <li>$2! = 2$</li>
                    <li>Denominador: $24 \times 6 \times 2 = 288$</li>
                </ul>
                
                <div class="math-display">
                    $$\frac{362,880}{288} = 1,260$$
                </div>
                
                <p><strong>Respuesta:</strong> Se pueden formar <span class="highlight">1,260 secuencias diferentes</span>.</p>
            </div>
        </div>
        
        <!-- Slide 5: Ejercicios 5 y 6 -->
        <div class="slide">
            <!-- Ejercicio 5: Permutaci√≥n con Repetici√≥n -->
            <div class="exercise-header">
                üìù Ejercicio 5
            </div>
            
            <div class="exercise-content">
                <p><strong>En una competencia de baile, los jueces tienen 7 paletas para calificar: 3 con "‚≠ê", 2 con "‚ù§Ô∏è" y 2 con "üî•". ¬øDe cu√°ntas formas diferentes pueden mostrar las 7 paletas en orden?</strong></p>
            </div>
            
            <button class="btn-toggle-solution" onclick="toggleSolution(this)">
                <span class="icon">üëÅÔ∏è</span>
                <span class="text">Ver Soluci√≥n</span>
            </button>
            
            <div class="solution-box">
                <div class="solution-header">Soluci√≥n</div>
                
                <p><strong>Paso 1: Identificar el tipo de problema</strong></p>
                <ul>
                    <li>¬øHay elementos repetidos? <span class="highlight">S√ç</span> (3 ‚≠ê, 2 ‚ù§Ô∏è, 2 üî•)</li>
                    <li>¬øSe ordenan todos los elementos? <span class="highlight">S√ç</span> (las 7 paletas)</li>
                    <li>¬øEl orden importa? <span class="highlight">S√ç</span></li>
                    <li><strong>Conclusi√≥n:</strong> Es una <span class="badge-formula">PERMUTACI√ìN CON REPETICI√ìN</span></li>
                </ul>
                
                <p><strong>Paso 2: Identificar valores</strong></p>
                <ul>
                    <li>Total de paletas: $n = 7$</li>
                    <li>‚≠ê: 3 repeticiones</li>
                    <li>‚ù§Ô∏è: 2 repeticiones</li>
                    <li>üî•: 2 repeticiones</li>
                </ul>
                
                <p><strong>Paso 3: Aplicar la f√≥rmula</strong></p>
                <div class="math-display">
                    $$PR^{7}_{(3, 2, 2)} = \frac{7!}{3! \cdot 2! \cdot 2!}$$
                </div>
                
                <p><strong>Paso 4: Calcular</strong></p>
                <ul>
                    <li>$7! = 5,040$</li>
                    <li>$3! = 6$</li>
                    <li>$2! = 2$</li>
                    <li>$2! = 2$</li>
                    <li>Denominador: $6 \times 2 \times 2 = 24$</li>
                </ul>
                
                <div class="math-display">
                    $$\frac{5,040}{24} = 210$$
                </div>
                
                <p><strong>Respuesta:</strong> Pueden mostrar las paletas de <span class="highlight">210 formas diferentes</span>.</p>
            </div>

            <hr style="margin: 40px 0; border: 2px solid var(--azulchile); opacity: 0.3;">

            <!-- Ejercicio 6: Permutaci√≥n Simple -->
            <div class="exercise-header">
                üìù Ejercicio 6
            </div>
            
            <div class="exercise-content">
                <p><strong>Para una presentaci√≥n escolar, 5 estudiantes deben realizar 5 exposiciones diferentes (una cada uno). ¬øDe cu√°ntas maneras pueden ordenarse para establecer el turno de cada exposici√≥n?</strong></p>
            </div>
            
            <button class="btn-toggle-solution" onclick="toggleSolution(this)">
                <span class="icon">üëÅÔ∏è</span>
                <span class="text">Ver Soluci√≥n</span>
            </button>
            
            <div class="solution-box">
                <div class="solution-header">Soluci√≥n</div>
                
                <p><strong>Paso 1: Identificar el tipo de problema</strong></p>
                <ul>
                    <li>¬øHay elementos repetidos? <span class="highlight">NO</span> (cada estudiante es diferente)</li>
                    <li>¬øSe ordenan todos los elementos? <span class="highlight">S√ç</span> (los 5 estudiantes)</li>
                    <li>¬øEl orden importa? <span class="highlight">S√ç</span> (el turno de exposici√≥n)</li>
                    <li><strong>Conclusi√≥n:</strong> Es una <span class="badge-formula">PERMUTACI√ìN SIMPLE</span></li>
                </ul>
                
                <p><strong>Paso 2: Aplicar la f√≥rmula</strong></p>
                <div class="math-display">
                    $$P(5) = 5! = 5 \times 4 \times 3 \times 2 \times 1$$
                </div>
                
                <p><strong>Paso 3: Calcular</strong></p>
                <ul>
                    <li>$5 \times 4 = 20$</li>
                    <li>$20 \times 3 = 60$</li>
                    <li>$60 \times 2 = 120$</li>
                    <li>$120 \times 1 = 120$</li>
                </ul>
                
                <div class="math-display">
                    $$P(5) = 120$$
                </div>
                
                <p><strong>Respuesta:</strong> Pueden ordenarse de <span class="highlight">120 maneras diferentes</span>.</p>
            </div>
        </div>
        
        <!-- Slide 6: Ejercicios 7 y 8 -->
        <div class="slide">
            <!-- Ejercicio 7: Permutaci√≥n Simple -->
            <div class="exercise-header">
                üìù Ejercicio 7
            </div>
            
            <div class="exercise-content">
                <p><strong>En tu estanter√≠a tienes 7 videojuegos diferentes que quieres ordenar. ¬øDe cu√°ntas formas diferentes puedes acomodar estos 7 videojuegos en la estanter√≠a?</strong></p>
            </div>
            
            <button class="btn-toggle-solution" onclick="toggleSolution(this)">
                <span class="icon">üëÅÔ∏è</span>
                <span class="text">Ver Soluci√≥n</span>
            </button>
            
            <div class="solution-box">
                <div class="solution-header">Soluci√≥n</div>
                
                <p><strong>Paso 1: Identificar el tipo de problema</strong></p>
                <ul>
                    <li>¬øHay elementos repetidos? <span class="highlight">NO</span> (cada videojuego es diferente)</li>
                    <li>¬øSe ordenan todos los elementos? <span class="highlight">S√ç</span> (los 7 videojuegos)</li>
                    <li>¬øEl orden importa? <span class="highlight">S√ç</span> (posici√≥n en la estanter√≠a)</li>
                    <li><strong>Conclusi√≥n:</strong> Es una <span class="badge-formula">PERMUTACI√ìN SIMPLE</span></li>
                </ul>
                
                <p><strong>Paso 2: Aplicar la f√≥rmula</strong></p>
                <div class="math-display">
                    $$P(7) = 7! = 7 \times 6 \times 5 \times 4 \times 3 \times 2 \times 1$$
                </div>
                
                <p><strong>Paso 3: Calcular</strong></p>
                <ul>
                    <li>$7 \times 6 = 42$</li>
                    <li>$42 \times 5 = 210$</li>
                    <li>$210 \times 4 = 840$</li>
                    <li>$840 \times 3 = 2,520$</li>
                    <li>$2,520 \times 2 = 5,040$</li>
                    <li>$5,040 \times 1 = 5,040$</li>
                </ul>
                
                <div class="math-display">
                    $$P(7) = 5,040$$
                </div>
                
                <p><strong>Respuesta:</strong> Puedes acomodar los videojuegos de <span class="highlight">5,040 formas diferentes</span>.</p>
            </div>

            <hr style="margin: 40px 0; border: 2px solid var(--azulchile); opacity: 0.3;">

            <!-- Ejercicio 8: Permutaci√≥n con Repetici√≥n -->
            <div class="exercise-header">
                üìù Ejercicio 8
            </div>
            
            <div class="exercise-content">
                <p><strong>Una bandera se dise√±a con 8 franjas horizontales: 3 franjas blancas, 3 franjas azules y 2 franjas rojas. ¬øCu√°ntos dise√±os diferentes de bandera se pueden crear variando el orden de las franjas?</strong></p>
            </div>
            
            <button class="btn-toggle-solution" onclick="toggleSolution(this)">
                <span class="icon">üëÅÔ∏è</span>
                <span class="text">Ver Soluci√≥n</span>
            </button>
            
            <div class="solution-box">
                <div class="solution-header">Soluci√≥n</div>
                
                <p><strong>Paso 1: Identificar el tipo de problema</strong></p>
                <ul>
                    <li>¬øHay elementos repetidos? <span class="highlight">S√ç</span> (3 blancas, 3 azules, 2 rojas)</li>
                    <li>¬øSe ordenan todos los elementos? <span class="highlight">S√ç</span> (las 8 franjas)</li>
                    <li>¬øEl orden importa? <span class="highlight">S√ç</span></li>
                    <li><strong>Conclusi√≥n:</strong> Es una <span class="badge-formula">PERMUTACI√ìN CON REPETICI√ìN</span></li>
                </ul>
                
                <p><strong>Paso 2: Identificar valores</strong></p>
                <ul>
                    <li>Total de franjas: $n = 8$</li>
                    <li>Blancas: 3 repeticiones</li>
                    <li>Azules: 3 repeticiones</li>
                    <li>Rojas: 2 repeticiones</li>
                </ul>
                
                <p><strong>Paso 3: Aplicar la f√≥rmula</strong></p>
                <div class="math-display">
                    $$PR^{8}_{(3, 3, 2)} = \frac{8!}{3! \cdot 3! \cdot 2!}$$
                </div>
                
                <p><strong>Paso 4: Calcular</strong></p>
                <ul>
                    <li>$8! = 40,320$</li>
                    <li>$3! = 6$</li>
                    <li>$3! = 6$</li>
                    <li>$2! = 2$</li>
                    <li>Denominador: $6 \times 6 \times 2 = 72$</li>
                </ul>
                
                <div class="math-display">
                    $$\frac{40,320}{72} = 560$$
                </div>
                
                <p><strong>Respuesta:</strong> Se pueden crear <span class="highlight">560 dise√±os diferentes</span> de bandera.</p>
            </div>
        </div>
        
        <!-- Slide 7: Ejercicios 9 y 10 -->
        <div class="slide">
            <!-- Ejercicio 9: Permutaci√≥n con Repetici√≥n -->
            <div class="exercise-header">
                üìù Ejercicio 9
            </div>
            
            <div class="exercise-content">
                <p><strong>Un profesor organiza un concurso donde debe colocar 11 premios en fila: 5 medallas de oro, 4 medallas de plata y 2 medallas de bronce. ¬øDe cu√°ntas formas diferentes puede ordenar todas las medallas?</strong></p>
            </div>
            
            <button class="btn-toggle-solution" onclick="toggleSolution(this)">
                <span class="icon">üëÅÔ∏è</span>
                <span class="text">Ver Soluci√≥n</span>
            </button>
            
            <div class="solution-box">
                <div class="solution-header">Soluci√≥n</div>
                
                <p><strong>Paso 1: Identificar el tipo de problema</strong></p>
                <ul>
                    <li>¬øHay elementos repetidos? <span class="highlight">S√ç</span> (5 oro, 4 plata, 2 bronce)</li>
                    <li>¬øSe ordenan todos los elementos? <span class="highlight">S√ç</span> (las 11 medallas)</li>
                    <li>¬øEl orden importa? <span class="highlight">S√ç</span></li>
                    <li><strong>Conclusi√≥n:</strong> Es una <span class="badge-formula">PERMUTACI√ìN CON REPETICI√ìN</span></li>
                </ul>
                
                <p><strong>Paso 2: Identificar valores</strong></p>
                <ul>
                    <li>Total de medallas: $n = 11$</li>
                    <li>Oro: 5 repeticiones</li>
                    <li>Plata: 4 repeticiones</li>
                    <li>Bronce: 2 repeticiones</li>
                </ul>
                
                <p><strong>Paso 3: Aplicar la f√≥rmula</strong></p>
                <div class="math-display">
                    $$PR^{11}_{(5, 4, 2)} = \frac{11!}{5! \cdot 4! \cdot 2!}$$
                </div>
                
                <p><strong>Paso 4: Calcular</strong></p>
                <ul>
                    <li>$11! = 39,916,800$</li>
                    <li>$5! = 120$</li>
                    <li>$4! = 24$</li>
                    <li>$2! = 2$</li>
                    <li>Denominador: $120 \times 24 \times 2 = 5,760$</li>
                </ul>
                
                <div class="math-display">
                    $$\frac{39,916,800}{5,760} = 6,930$$
                </div>
                
                <p><strong>Respuesta:</strong> Puede ordenar las medallas de <span class="highlight">6,930 formas diferentes</span>.</p>
            </div>

            <hr style="margin: 40px 0; border: 2px solid var(--azulchile); opacity: 0.3;">

            <!-- Ejercicio 10: Permutaci√≥n Simple -->
            <div class="exercise-header">
                üìù Ejercicio 10
            </div>
            
            <div class="exercise-content">
                <p><strong>Un equipo de b√°squetbol tiene 9 jugadores titulares que deben formar una fila para el himno nacional antes del partido. ¬øDe cu√°ntas maneras diferentes pueden acomodarse los 9 jugadores en la fila?</strong></p>
            </div>
            
            <button class="btn-toggle-solution" onclick="toggleSolution(this)">
                <span class="icon">üëÅÔ∏è</span>
                <span class="text">Ver Soluci√≥n</span>
            </button>
            
            <div class="solution-box">
                <div class="solution-header">Soluci√≥n</div>
                
                <p><strong>Paso 1: Identificar el tipo de problema</strong></p>
                <ul>
                    <li>¬øHay elementos repetidos? <span class="highlight">NO</span> (cada jugador es √∫nico)</li>
                    <li>¬øSe ordenan todos los elementos? <span class="highlight">S√ç</span> (los 9 jugadores)</li>
                    <li>¬øEl orden importa? <span class="highlight">S√ç</span> (posici√≥n en la fila)</li>
                    <li><strong>Conclusi√≥n:</strong> Es una <span class="badge-formula">PERMUTACI√ìN SIMPLE</span></li>
                </ul>
                
                <p><strong>Paso 2: Aplicar la f√≥rmula</strong></p>
                <div class="math-display">
                    $$P(9) = 9!$$
                </div>
                
                <p><strong>Paso 3: Calcular</strong></p>
                <ul>
                    <li>$9! = 9 \times 8 \times 7 \times 6 \times 5 \times 4 \times 3 \times 2 \times 1$</li>
                    <li>$9 \times 8 = 72$</li>
                    <li>$72 \times 7 = 504$</li>
                    <li>$504 \times 6 = 3,024$</li>
                    <li>$3,024 \times 5 = 15,120$</li>
                    <li>$15,120 \times 4 = 60,480$</li>
                    <li>$60,480 \times 3 = 181,440$</li>
                    <li>$181,440 \times 2 = 362,880$</li>
                    <li>$362,880 \times 1 = 362,880$</li>
                </ul>
                
                <div class="math-display">
                    $$P(9) = 362,880$$
                </div>
                
                <p><strong>Respuesta:</strong> Los jugadores pueden acomodarse de <span class="highlight">362,880 maneras diferentes</span>.</p>
            </div>
        </div>
        
        <!-- Slide 8: Ejercicios 11 y 12 -->
        <div class="slide">
            <!-- Ejercicio 11: Permutaci√≥n Simple -->
            <div class="exercise-header">
                üìù Ejercicio 11
            </div>
            
            <div class="exercise-content">
                <p><strong>En una carrera de atletismo compiten 10 corredores. Si todos llegan a la meta (sin empates), ¬øde cu√°ntas formas diferentes pueden terminar la carrera en cuanto al orden de llegada?</strong></p>
            </div>
            
            <button class="btn-toggle-solution" onclick="toggleSolution(this)">
                <span class="icon">üëÅÔ∏è</span>
                <span class="text">Ver Soluci√≥n</span>
            </button>
            
            <div class="solution-box">
                <div class="solution-header">Soluci√≥n</div>
                
                <p><strong>Paso 1: Identificar el tipo de problema</strong></p>
                <ul>
                    <li>¬øHay elementos repetidos? <span class="highlight">NO</span> (cada corredor es diferente)</li>
                    <li>¬øSe ordenan todos los elementos? <span class="highlight">S√ç</span> (todos los 10 corredores)</li>
                    <li>¬øEl orden importa? <span class="highlight">S√ç</span> (orden de llegada)</li>
                    <li><strong>Conclusi√≥n:</strong> Es una <span class="badge-formula">PERMUTACI√ìN SIMPLE</span></li>
                </ul>
                
                <p><strong>Paso 2: Aplicar la f√≥rmula</strong></p>
                <div class="math-display">
                    $$P(10) = 10!$$
                </div>
                
                <p><strong>Paso 3: Calcular</strong></p>
                <ul>
                    <li>$10! = 3,628,800$</li>
                </ul>
                
                <div class="math-display">
                    $$P(10) = 3,628,800$$
                </div>
                
                <p><strong>Respuesta:</strong> Pueden terminar la carrera de <span class="highlight">3,628,800 formas diferentes</span>.</p>
            </div>

            <hr style="margin: 40px 0; border: 2px solid var(--azulchile); opacity: 0.3;">

            <!-- Ejercicio 12: Permutaci√≥n con Repetici√≥n -->
            <div class="exercise-header">
                üìù Ejercicio 12
            </div>
            
            <div class="exercise-content">
                <p><strong>Una contrase√±a visual se forma con 12 s√≠mbolos: 5 c√≠rculos (‚óã), 4 cuadrados (‚ñ°) y 3 tri√°ngulos (‚ñ≥). ¬øCu√°ntas contrase√±as visuales diferentes se pueden crear ordenando todos estos s√≠mbolos?</strong></p>
            </div>
            
            <button class="btn-toggle-solution" onclick="toggleSolution(this)">
                <span class="icon">üëÅÔ∏è</span>
                <span class="text">Ver Soluci√≥n</span>
            </button>
            
            <div class="solution-box">
                <div class="solution-header">Soluci√≥n</div>
                
                <p><strong>Paso 1: Identificar el tipo de problema</strong></p>
                <ul>
                    <li>¬øHay elementos repetidos? <span class="highlight">S√ç</span> (5 c√≠rculos, 4 cuadrados, 3 tri√°ngulos)</li>
                    <li>¬øSe ordenan todos los elementos? <span class="highlight">S√ç</span> (los 12 s√≠mbolos)</li>
                    <li>¬øEl orden importa? <span class="highlight">S√ç</span></li>
                    <li><strong>Conclusi√≥n:</strong> Es una <span class="badge-formula">PERMUTACI√ìN CON REPETICI√ìN</span></li>
                </ul>
                
                <p><strong>Paso 2: Identificar valores</strong></p>
                <ul>
                    <li>Total de s√≠mbolos: $n = 12$</li>
                    <li>C√≠rculos: 5 repeticiones</li>
                    <li>Cuadrados: 4 repeticiones</li>
                    <li>Tri√°ngulos: 3 repeticiones</li>
                </ul>
                
                <p><strong>Paso 3: Aplicar la f√≥rmula</strong></p>
                <div class="math-display">
                    $$PR^{12}_{(5, 4, 3)} = \frac{12!}{5! \cdot 4! \cdot 3!}$$
                </div>
                
                <p><strong>Paso 4: Calcular</strong></p>
                <ul>
                    <li>$12! = 479,001,600$</li>
                    <li>$5! = 120$</li>
                    <li>$4! = 24$</li>
                    <li>$3! = 6$</li>
                    <li>Denominador: $120 \times 24 \times 6 = 17,280$</li>
                </ul>
                
                <div class="math-display">
                    $$\frac{479,001,600}{17,280} = 27,720$$
                </div>
                
                <p><strong>Respuesta:</strong> Se pueden crear <span class="highlight">27,720 contrase√±as visuales diferentes</span>.</p>
            </div>
        </div>
        
        <!-- Slide 9: Resumen Final -->
        <div class="slide">
            <h2>üéØ ¬°Excelente Trabajo!</h2>
            
            <div style="background: linear-gradient(135deg, #E8F5E9, #C8E6C9); padding: 30px; border-radius: 15px; border: 3px solid var(--verdechile); margin-bottom: 30px;">
                <h3 style="color: var(--verdechile); text-align: center; margin-top: 0;">üìä Resumen de Ejercicios Completados</h3>
                <div style="display: flex; justify-content: space-around; margin-top: 25px; flex-wrap: wrap; gap: 20px;">
                    <div style="text-align: center; flex: 1; min-width: 200px;">
                        <div style="font-size: 3em; color: var(--azulchile);">‚úì</div>
                        <div style="font-size: 1.3em; font-weight: bold; color: var(--azulchile);">6</div>
                        <div>Permutaciones Simples</div>
                    </div>
                    <div style="text-align: center; flex: 1; min-width: 200px;">
                        <div style="font-size: 3em; color: var(--rojochile);">‚úì</div>
                        <div style="font-size: 1.3em; font-weight: bold; color: var(--rojochile);">6</div>
                        <div>Permutaciones con Repetici√≥n</div>
                    </div>
                </div>
            </div>
            
            <div style="background: linear-gradient(135deg, #FFF3E0, #FFE0B2); padding: 25px; border-radius: 15px; border: 3px solid var(--warmorange); margin-bottom: 30px;">
                <h3 style="color: var(--warmorange); margin-top: 0;">üí° Clave para Identificar</h3>
                <div style="font-size: 1.15em; line-height: 2;">
                    <p style="margin-bottom: 20px;"><strong>Pregunta fundamental:</strong></p>
                    <div style="background: white; padding: 20px; border-radius: 10px; margin-bottom: 15px;">
                        <p style="margin: 0; font-size: 1.2em; font-weight: bold; color: var(--azulchile);">
                            ¬øHay elementos repetidos en el conjunto que voy a ordenar?
                        </p>
                    </div>
                    <ul style="list-style: none; padding: 0;">
                        <li style="background: #E3F2FD; padding: 15px; border-radius: 8px; margin-bottom: 10px;">
                            <strong>‚ùå NO hay repetidos:</strong> Permutaci√≥n Simple ‚Üí $P(n) = n!$
                        </li>
                        <li style="background: #FFEBEE; padding: 15px; border-radius: 8px;">
                            <strong>‚úÖ S√ç hay repetidos:</strong> Permutaci√≥n con Repetici√≥n ‚Üí $\frac{n!}{n_1! \cdot n_2! \cdot ...}$
                        </li>
                    </ul>
                </div>
            </div>
            
            <div style="background: linear-gradient(135deg, var(--azulchile), #1976D2); color: white; padding: 30px; border-radius: 15px; text-align: center;">
                <h3 style="color: white; margin-top: 0; font-size: 1.8em;">üåü Recuerda üåü</h3>
                <p style="font-size: 1.2em; line-height: 1.8;">
                    En <strong>ambos tipos de permutaciones</strong>:<br>
                    ‚úì Se ordenan TODOS los elementos<br>
                    ‚úì El orden S√ç importa<br>
                    ‚úì La diferencia est√° en las repeticiones
                </p>
            </div>
            
            <div class="footer" style="margin-top: 40px;">
                <strong>üìö Profesor Nicol√°s Gonz√°lez | Material Educativo 2025</strong><br>
                Presentaci√≥n creada con fines pedag√≥gicos | Permutaciones
            </div>
        </div>
    </div>
    
    <div class="navigation">
        <button class="nav-btn" onclick="changeSlide(-1)">‚óÄ Anterior</button>
        <button class="nav-btn" onclick="changeSlide(1)">Siguiente ‚ñ∂</button>
    </div>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;
        
        function showSlide(n) {
            slides[currentSlide].classList.remove('active');
            currentSlide = (n + totalSlides) % totalSlides;
            slides[currentSlide].classList.add('active');
            updateCounter();
            
            // Re-render MathJax on slide change
            if (typeof MathJax !== 'undefined') {
                MathJax.typesetPromise();
            }
        }
        
        function changeSlide(direction) {
            showSlide(currentSlide + direction);
        }
        
        function updateCounter() {
            document.getElementById('slideCounter').textContent = `${currentSlide + 1} / ${totalSlides}`;
        }
        
        // Keyboard navigation
        document.addEventListener('keydown', function(event) {
            if (event.key === 'ArrowLeft') {
                changeSlide(-1);
            } else if (event.key === 'ArrowRight') {
                changeSlide(1);
            }
        });
        
        // Toggle solution visibility
        function toggleSolution(button) {
            const solutionBox = button.nextElementSibling;
            const icon = button.querySelector('.icon');
            const text = button.querySelector('.text');
            
            if (solutionBox.classList.contains('show')) {
                // Hide solution
                solutionBox.classList.remove('show');
                button.classList.remove('showing');
                icon.textContent = 'üëÅÔ∏è';
                text.textContent = 'Ver Soluci√≥n';
            } else {
                // Show solution
                solutionBox.classList.add('show');
                button.classList.add('showing');
                icon.textContent = '‚úñÔ∏è';
                text.textContent = 'Ocultar Soluci√≥n';
                
                // Re-render MathJax for the newly shown solution
                if (typeof MathJax !== 'undefined') {
                    MathJax.typesetPromise([solutionBox]);
                }
            }
        }
        
        // Hide all solutions when changing slides
        function hideAllSolutions() {
            const buttons = document.querySelectorAll('.btn-toggle-solution');
            buttons.forEach(button => {
                const solutionBox = button.nextElementSibling;
                const icon = button.querySelector('.icon');
                const text = button.querySelector('.text');
                
                if (solutionBox.classList.contains('show')) {
                    solutionBox.classList.remove('show');
                    button.classList.remove('showing');
                    icon.textContent = 'üëÅÔ∏è';
                    text.textContent = 'Ver Soluci√≥n';
                }
            });
        }
        
        // Modify showSlide to hide solutions when changing slides
        const originalShowSlide = showSlide;
        showSlide = function(n) {
            hideAllSolutions();
            originalShowSlide(n);
        };
        
        // Initialize
        updateCounter();
    </script>
</body>
</html>